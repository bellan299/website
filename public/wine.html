<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wine - Jp's Liquor</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="auth-styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-auth-compat.js"></script>
    
    <!-- Essential Auth Functions - Available Immediately -->
    <script>
        // Global functions for HTML onclick handlers - defined immediately to prevent "not defined" errors
        function showAuthModal(modalType) {
            console.log('showAuthModal called with:', modalType);
            console.log('window.authUI:', window.authUI);
            
            if (window.authUI && typeof window.authUI.showModal === 'function') {
                console.log('Calling authUI.showModal...');
                try {
                    window.authUI.showModal(modalType);
                } catch (error) {
                    console.error('Error calling authUI.showModal:', error);
                    // Fallback to direct modal manipulation
                    fallbackShowModal(modalType);
                }
            } else {
                console.error('window.authUI is not available or showModal method missing!');
                // Fallback to direct modal manipulation
                fallbackShowModal(modalType);
            }
        }
        
        function fallbackShowModal(modalType) {
            console.log('Using fallback modal display for:', modalType);
            const modal = document.getElementById(modalType + '-modal');
            if (modal) {
                // Hide any other active modals first
                document.querySelectorAll('.auth-modal.active').forEach(m => {
                    m.classList.remove('active');
                });
                modal.classList.add('active');
                console.log('Modal shown via fallback:', modalType);
            } else {
                console.error('Modal not found for fallback:', modalType);
            }
        }

        function closeAuthModal(modalType) {
            console.log('closeAuthModal called with:', modalType);
            
            if (window.authUI && typeof window.authUI.closeCurrentModal === 'function') {
                try {
                    window.authUI.closeCurrentModal();
                } catch (error) {
                    console.error('Error calling authUI.closeCurrentModal:', error);
                    // Fallback to direct modal manipulation
                    fallbackCloseModal(modalType);
                }
            } else {
                console.error('window.authUI is not available or closeCurrentModal method missing!');
                // Fallback to direct modal manipulation
                fallbackCloseModal(modalType);
            }
        }
        
        function fallbackCloseModal(modalType) {
            console.log('Using fallback modal close for:', modalType);
            const modal = document.getElementById(modalType + '-modal');
            if (modal) {
                modal.classList.remove('active');
                console.log('Modal closed via fallback:', modalType);
            } else {
                console.error('Modal not found for fallback close:', modalType);
                // Close all modals as a last resort
                document.querySelectorAll('.auth-modal.active').forEach(m => {
                    m.classList.remove('active');
                });
                console.log('Closed all active modals as fallback');
            }
        }

        function togglePassword(inputId) {
            const input = document.getElementById(inputId);
            const button = input.parentNode.querySelector('.password-toggle');
            const icon = button.querySelector('i');
            
            if (input.type === 'password') {
                input.type = 'text';
                icon.className = 'fas fa-eye-slash';
            } else {
                input.type = 'password';
                icon.className = 'fas fa-eye';
            }
        }

        function resendVerification() {
            // Simulate resending verification email
            if (window.authUI) {
                window.authUI.showSuccess('Verification email resent!');
            }
        }

        function showTerms() {
            alert('Terms of Service would be displayed here.');
        }

        function showPrivacy() {
            alert('Privacy Policy would be displayed here.');
        }

        function showDeleteAccountModal() {
            showAuthModal('delete-account');
        }

        function showUserMenu() {
            const dropdown = document.getElementById('user-dropdown');
            if (dropdown) {
                dropdown.classList.toggle('show');
            }
        }
    </script>
</head>
<body style="padding-top:50px; padding-bottom:50px;">
    <!-- Header -->
    <header class="header">
        <nav class="navbar">
            <div class="nav-container">
                <div class="nav-auth">
                    
                </div>
                <div class="nav-logo">
                    <h1><a href="index.html" style="text-decoration: none; color: inherit;">Jp's Liquor</a></h1>
                </div>
                <div class="nav-menu">
                    <a href="index.html" class="nav-link">Home</a>
                    <a href="index.html#products" class="nav-link">Products</a>
                    <a href="index.html#bestsellers" class="nav-link">Best Sellers</a>
                    <a href="index.html#newarrivals" class="nav-link">New Arrivals</a>
                    <a href="index.html#about" class="nav-link">About</a>
                    <a href="index.html#contact" class="nav-link">Contact</a>
                </div>
                <div class="nav-toggle">
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                </div>
            </div>
        </nav>
    </header>

    <!-- Category Hero Section -->
    <section class="hero" style="background: linear-gradient(135deg, #8b2635 0%, #a83244 100%);">
        <div class="hero-content">
            <h1>Wine Collection</h1>
            <p>Discover our exceptional selection of red, white, rosé, and sparkling wines</p>
            <div class="category-breadcrumb">
                <a href="index.html">Home</a> > <span>Wine</span>
            </div>
        </div>
    </section>

    <!-- Wine Categories -->
    <section class="categories">
        <div class="container">
            <h2>Wine Categories</h2>
            <div class="category-grid wine-category-grid">
                <div class="category-card wine-category-card">
                    <i class="fas fa-wine-bottle wine-category-icon"></i>
                    <h3>Red Wine</h3>
                    <p>Bold & Full-Bodied</p>
                </div>
                <div class="category-card wine-category-card">
                    <i class="fas fa-wine-glass wine-category-icon" style="color: #f4f4f4;"></i>
                    <h3>White Wine</h3>
                    <p>Crisp & Refreshing</p>
                </div>
                <div class="category-card wine-category-card">
                    <i class="fas fa-wine-glass-alt wine-category-icon" style="color: #ffb6c1;"></i>
                    <h3>Rosé Wine</h3>
                    <p>Light & Elegant</p>
                </div>
                <div class="category-card wine-category-card">
                    <i class="fas fa-champagne-glasses wine-category-icon" style="color: #ffd700;"></i>
                    <h3>Sparkling</h3>
                    <p>Bubbles & Celebration</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Wine Products Section -->
    <section class="products-section">
        <div class="container">
            <h2>Wine Products</h2>
            <div class="filters">
                <select id="wine-type-filter">
                    <option value="">All Wine Types</option>
                    <option value="red">Red Wine</option>
                    <option value="white">White Wine</option>
                    <option value="rose">Rosé Wine</option>
                    <option value="sparkling">Sparkling Wine</option>
                </select>
                <select id="sort-filter">
                    <option value="name">Sort by Name</option>
                    <option value="price-low">Price: Low to High</option>
                    <option value="price-high">Price: High to Low</option>
                    <option value="popularity">Most Popular</option>
                </select>
            </div>
            <div class="products-grid" id="wine-products-grid">
                <!-- Wine products will be loaded here via JavaScript -->
                <div class="product-card">
                    <div class="product-image">
                        <img src="https://via.placeholder.com/300x400/8b2635/ffffff?text=Wine+Placeholder" alt="Wine Product">
                        <div class="product-badge new">New</div>
                    </div>
                    <div class="product-info">
                        <h3 class="product-name">Sample Wine Product</h3>
                        <p class="product-price">$24.99</p>
                        <button class="add-to-cart">Add to Cart</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Back to Categories -->
    <section class="categories">
        <div class="container">
            <h2>Shop Other Categories</h2>
            <div class="category-grid">
                <a href="spirits.html" class="category-card">
                    <i class="fas fa-cocktail"></i>
                    <h3>Spirits</h3>
                    <p>Whiskey, Vodka, Rum & More</p>
                </a>
                <a href="beer.html" class="category-card">
                    <i class="fas fa-beer"></i>
                    <h3>Beer</h3>
                    <p>Craft & Imported Beers</p>
                </a>
                <a href="seltzer.html" class="category-card">
                    <i class="fas fa-glass-whiskey"></i>
                    <h3>Seltzer</h3>
                    <p>Hard Seltzers & Spritzers</p>
                </a>
                <a href="thc.html" class="category-card">
                    <i class="fas fa-leaf"></i>
                    <h3>THC</h3>
                    <p>THC Beverages & Products</p>
                </a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Jp's Liquor</h3>
                    <p>Your trusted source for premium spirits and exceptional service.</p>
                </div>
                <div class="footer-section">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="index.html#products">Products</a></li>
                        <li><a href="index.html#bestsellers">Best Sellers</a></li>
                        <li><a href="index.html#about">About</a></li>
                        <li><a href="index.html#contact">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Product Categories</h4>
                    <ul>
                        <li><a href="wine.html">Wine</a></li>
                        <li><a href="spirits.html">Spirits</a></li>
                        <li><a href="beer.html">Beer</a></li>
                        <li><a href="seltzer.html">Seltzer</a></li>
                        <li><a href="thc.html">THC</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Connect With Us</h4>
                    <div class="social-links">
                        <a href="https://www.facebook.com/Jpsliquorliquorwineandbeer" target="_blank" rel="noopener"><i class="fab fa-facebook"></i></a>
                        <a href="https://www.instagram.com/jpsliquorwineandbeer/" target="_blank" rel="noopener"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 Jp's Liquor. All rights reserved. Must be 21+ to purchase alcohol.</p>
            </div>
        </div>
    </footer>

    <script src="firebase-config.js" defer></script>
    <script src="config.js" defer></script>
    <script src="auth.js" defer></script>
    <script src="auth-ui.js" defer></script>
    <script src="script.js" defer></script>
</body>
</html> 